{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block heading %}
    Attendance Portal
{% endblock %}

{% block sub-heading %}
    Project
{% endblock %}

{% block content%}
    {% for message in messages %}
        <h3 class="text-success m-0 table-success px-3">{{message}}</h3>
    {% endfor %}
    <div class="text-center pt-4">
        <table class="table table-borderless my-5">
            <tr>
                <td>
                    <button type="button" class="btn btn-outline-dark btn-lg btn-block pt-5 pb-5" data-toggle="modal" data-target="#teacherLoginModal">
                        Teacher<br>Login
                    </button>
                </td>
                <td>
                    <button type="button" class="btn btn-outline-dark btn-lg btn-block pt-5 pb-5" data-toggle="modal" data-target="#studentLoginModal">
                        Student<br>Login
                    </button>
                </td>
            </tr>
            <tr>
                <td>
                    <button type="button" class="btn btn-outline-dark btn-lg btn-block pt-5 pb-5" data-toggle="modal" data-target="#teacherRegistrationModal">
                        Teacher<br>Registration
                    </button>
                </td>
                <td>
                    <button type="button" class="btn btn-outline-dark btn-lg btn-block pt-5 pb-5" data-toggle="modal" data-target="#studentRegistrationModal">
                        Student<br>Registration
                    </button>
                </td>
            </tr>
        </table>
    </div>

    <!--Teacher Login-->
    <div class='modal fade' id="teacherLoginModal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-dark text-light">
                    <h4 class="modal-title">Teacher Login</h4>
                    <button type="button" class="close text-light" data-dismiss="modal">&times;</button>
                </div>
                <form method="POST" action="/teacherDashboard">
					{% csrf_token %}
                    <div class="modal-body">
                        <input type="text" placeholder="Username" class="form-control" name="username" required>
                        <div class="text-right mb-3 small"><a href="/forgotUsername">Forgot?</a></div>
                        <input type="password" placeholder="Password" class="form-control" name="password" required>
                        <div class="text-right small"><a href="/forgotPassword">Forgot?</a></div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-dark">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--Student Login-->
    <div class='modal fade' id="studentLoginModal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-dark text-light">
                    <h4 class="modal-title">Student Login</h4>
                    <button type="button" class="close text-light" data-dismiss="modal">&times;</button>
                </div>
                <form method="POST" action="/studentDashboard">
					{% csrf_token %}
                    <div class="modal-body">
                        <input type="text" placeholder="Username" class="form-control" name="username" required>
                        <div class="text-right mb-3 small"><a href="/forgotUsername">Forgot?</a></div>
                        <input type="password" placeholder="Password" class="form-control" name="password" required>
                        <div class="text-right small"><a href="/forgotPassword">Forgot?</a></div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-dark">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--Teacher Registration-->
    <div class='modal fade' id="teacherRegistrationModal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-dark text-light">
                    <h4 class="modal-title">Teacher Registration</h4>
                    <button type="button" class="close text-light" data-dismiss="modal">&times;</button>
                </div>
                <form method="POST" action="/registerTeacher">
					{% csrf_token %}
                    <div class="modal-body">
                        <input type="text" placeholder="Firstname" class="form-control mb-3" name="firstname" required>
                        <input type='text' placeholder="Lastname" class="form-control mb-3" name="lastname" required>
                        <input type='text' placeholder="Username" class="form-control mb-3" name="username" required>
                        <input type="email" placeholder="E-mail" class="form-control mb-3" name="email" required>
                        <input type="password" placeholder="Password" class="form-control mb-3" name="password1" required>
                        <input type="password" placeholder="Confirm Password" class="form-control mb-3" name="password2" required>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Course: </span>
                            </div>
                            <select class="custom-select" name="course">
                                {% for course in courses %}
                                    <option value="{{course.0}}">{{course.0}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Register" class="btn btn-dark">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--Student Registration-->
    <div class='modal fade' id="studentRegistrationModal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-dark text-light">
                    <h4 class="modal-title">Student Registration</h4>
                    <button type="button" class="close text-light" data-dismiss="modal">&times;</button>
                </div>
                <form method="POST" action="/registerStudent">
					{% csrf_token %}
                    <div class="modal-body">
                        <input type="text" placeholder="Firstname" class="form-control mb-3" name="firstname" required>
                        <input type='text' placeholder="Lastname" class="form-control mb-3" name="lastname" required>
                        <input type='text' placeholder="Username" class="form-control mb-3" name="username" required>
                        <input type="email" placeholder="E-mail" class="form-control mb-3" name="email" required>
                        <input type="password" placeholder="Password" class="form-control mb-3" name="password1" required>
                        <input type="password" placeholder="Confirm Password" class="form-control mb-3" name="password2" required>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">DOB: </span>
                            </div>
                            <input type="date" class="form-control" name="dob" required>
                          </div>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Course: </span>
                            </div>
                            <select class="custom-select" name="course">
                                {% for course in courses %}
                                <option value="{{course.0}}">{{course.0}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <input type="number" class="form-control mb-3" placeholder="Semester" name="semester" min="1" max="8" required>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Section: </span>
                            </div>
                            <select class="custom-select" name="section">
                                {% for section in sections %}
                                    <option value="{{section.0}}">{{section.0}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Register" class="btn btn-dark">
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}